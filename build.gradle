plugins {
    id 'java'
}

group = 'io.github.yourusername'
version = '1.0.0'

repositories {
    mavenCentral()
}

// Temporary workaround until Hypixel Studios releases their server jar to Maven Central
def serverJar = file 'libs/HytaleServer.jar'

dependencies {
    compileOnly(files(serverJar))
}

tasks.withType(JavaCompile).configureEach {
    options.encoding = 'UTF-8'
    doFirst {
        if (!serverJar.exists()) {
            throw new GradleException("HytaleServer.jar was not found in libs/. (See README)")
        }
    }
}
// Temporary workaround end

processResources {
    def props = [version: version, group: project.group]
    inputs.properties props
    filesMatching('manifest.json') {
        expand props
    }
}